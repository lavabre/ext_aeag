<form class="form-horizontal" id="idForm" role="form" action="{{ path("AeagSqeBundle_suiviHydrobio_lot_periode_station_demande_suivi_maj",{"suiviPrelId":  suiviPrel.id, "periodeAnId": periodeAnId}) }}" class="form-horizontal" method="post" {{ form_enctype(form) }}>

 <div class="form-group">
        <label class="col-xs-3 control-label">Date :</label>
        {%if form_errors(form.datePrel) %}
            <div class="col-xs-8 input-group has-error has-feedback">
        {% else %}
             <div class="col-xs-8 input-group">
         {% endif %}
           {{ form_widget(form.datePrel, { 'attr': {'class': 'form-control ', 'placeholder': 'Date', 'readonly': 'readonly'} }) }}
         </div>
 </div> 
         
<div class="form-group">
        <label class="col-xs-3 control-label">Statut :</label>
        {%if form_errors(form.statutPrel) %}
            <div class="col-xs-8 input-group has-error has-feedback">
        {% else %}
             <div class="col-xs-8 input-group">
         {% endif %}
           {{ form_widget(form.statutPrel, { 'attr': {'class': 'form-control ', 'placeholder': 'Statut', 'readonly': 'readonly'} }) }}
         </div>
 </div> 
         
<div class="form-group">
        <label class="col-xs-3 control-label">Commentaire : </label>
        {%if form_errors(form.commentaire) %}
            <div class="col-xs-8 input-group has-error has-feedback">
        {% else %}
             <div class="col-xs-8 input-group">
         {% endif %}
           {{ form_widget(form.commentaire, { 'attr': {'class': 'form-control ', 'placeholder': 'Commentaire', 'readonly': 'readonly'} }) }}
         </div>
 </div> 
           
     <div class="form-group">
        <div class="col-xs-offset-4 col-xs-8">
           <button type="button" class="btn btn-primary" data-dismiss="modal"><i class="fa fa-undo"></i> Annuler</button>
           <button id="btForm" type="submit" class="btn btn-success"><i class="fa fa-check"></i>Valider</button>
         </div>
     </div>        
         
        <div class="hide">
            {{ form_rest(form) }}
        </div>  
   </form>      
        
        <script type="text/javascript" language="javascript">
            
             jQuery(document).ready(function() {
            
              
                if ($('#statutPrel').val() != 'N'){
                       $('#commentaire').removeAttr('required');
                   }else{
                      $('#commentaire').attr('required', ''); 
                  };
            
                $(document).on('change','#statutPrel',function(e){
                   e.preventDefault(); // J'empêche le comportement par défaut du navigateur, c-à-d de soumettre le formulaire
                   if ($('#statutPrel').val() != 'N'){
                       $('#commentaire').removeAttr('required');
                  }else{
                      $('#commentaire').attr('required', ''); 
                  };
              });
           
        
       });
            
        </script>